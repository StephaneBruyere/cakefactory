 {{> header}}

  <!-- Page Content -->
  <div class="container">
  
    <div class="row">
      <div class="col-lg-12">
        <h1 class="mt-4">Your basket</h1>
        <table class="table table-striped">
        	<thead>
        		<tr>
    				<th>Title</th>
    				<th>Qty</th>
    				<th>Total</th>
    				<th></th>
  				</tr>
  			</thead>	
  			<tbody>
			{{#basket}}
            <tr>
            	<td>{{name}}</td>
            	<td class="qty">{{quantity}}</td>
            	<td>{{lineTotalPrice}}</td>
            	<td class="col-md-1">
            		<form method="post" action="/basket/delete">
    						<input type="hidden" name="{{_csrf.parameterName}}" value="{{_csrf.token}}"/>
            			<input type="hidden" name="id" value={{id}}>
            			<button type="submit" class="btn btn-danger btn-sm remove-item" >Remove</button>
            		</form>
            	</td>
            </tr>
         {{/basket}}
         {{#totalPrice}}<tr><td></td><td><strong>BASKET PRICE</strong></td><td><strong>{{totalPrice}}</strong></td><td></td></tr>{{/totalPrice}}
         </tbody>
         </table>
       </div> 
      </div> 
        
		<div class="row">
        <div class="col-lg-12 mt-4 mb-4">
        <h1>Delivery address</h1>
        <form method="post" action="/order">
    		<input type="hidden" name="{{_csrf.parameterName}}" value="{{_csrf.token}}"/>
    	<div class="form-group">
        	<label for="name" class="col-sm-2 control-label" >Name</label>
        	<input required type="text" class="form-control" name="name" id="name" placeholder="Name"
        	{{#address}}value="{{name}}"{{/address}}>
        </div>
        <div class="form-group">
        	<label for="line1" class="col-sm-2 control-label" >Address line 1</label>
        	<input required type="text" class="form-control" name="line1" id="line1" placeholder="Address Line 1"
        	{{#address}}value="{{line1}}"{{/address}}>
        </div>
        <div class="form-group">
        	<label for="line2" class="col-sm-2 control-label" >Address line 2</label>
         	<input type="text" class="form-control" name="line2" id="line2" placeholder="Address Line 2"
         	{{#address}}value="{{line2}}"{{/address}}>
         </div>
         <div class="form-group">
         	<label for="postcode" class="col-sm-2 control-label" >Postcode</label>
          	<input required type="text" class="form-control" name="postcode" id="postcode" placeholder="Postcode"
          	{{#address}}value="{{postcode}}"{{/address}}>
          </div>
          <div class="form-group">
         	<label for="city" class="col-sm-2 control-label" >City</label>
          	<input required type="text" class="form-control" name="city" id="city" placeholder="City"
          	{{#address}}value="{{city}}"{{/address}}>
          </div>
          	<button type="submit" class="btn btn-primary float-right" id="complete-order">Complete order</button>
        </form>
        </div>

      </div>

  </div>
  <!-- /.container -->

 {{> footer}}
